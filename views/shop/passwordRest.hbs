<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">


<!--================Login Box Area =================-->
<section class="login_box_area section-margin">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="login_box_img"
                    style="background-image: url('/img/logo/Screenshot 2023-04-02 082650.png'); background-position: center; background-repeat: no-repeat; background-size: cover;">

                </div>
            </div>
            <div class="col-lg-6">
                <div class="login_form_inner">
                    <h3>Reset Password</h3>
                    <form class="row login_form" action="/resetPassword" method="post" id="contactForm">
                        <div class="col-md-12 form-group" style="text-align: left;">
                            <input type="text" class="form-control" id="phone" name="phone" placeholder="Phone Number"
                                onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number'" readonly
                                minlength="10" maxlength="10" pattern="[0-9]*" value="{{phoneNumber}}" required>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="password" class="form-control" id="password" name="password"
                                placeholder="New Password" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = 'New Password'" minlength="4" required>
                                <span id="password-strength-text"></span>
                        </div>
                        <div class="col-md-12 form-group">
                            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                                placeholder="Confirm Password" onfocus="this.placeholder = ''"
                                onblur="this.placeholder = 'Confirm Password'" minlength="4" required>
                        </div>
                        <span id="err" style="color: rgb(176, 8, 8);"></span>

                        <div class="col-md-12 form-group">
                            <button onclick="return validation()" type="submit" value="submit" class="button button-login w-100">Update
                                Password</button>
                            <a href="/login">Back to login</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Login Box Area =================-->


{{!-- <script src="/js/formValidation.js"></script> --}}

<script>
    function validation() {
        const password = document.getElementById('password').value.trim();
        const confirm = document.getElementById('confirmPassword').value.trim();
        if(password.length > 4) {
            if(password === confirm) {
                return true;
            } else {
                document.getElementById('err').innerHTML = "Password doesn't match !";
                return false;
            }
        } else {
            document.getElementById('err').innerHTML = "Password must be four or more charecters !";
            return false;
        }
    }
</script>

<script>
  // Function to check the password strength
  function checkPasswordStrength() {
    const password = document.getElementById("password").value;
    const passwordStrengthText = document.getElementById("password-strength-text");

    var hasUppercase = /[A-Z]/.test(password);
    var hasLowercase = /[a-z]/.test(password);
    var hasNumber = /[0-9]/.test(password);
    var hasSpecialChar = /[!@#$%^&*]/.test(password);

    // Define a regular expression pattern to check for password strength
    if(hasLowercase && hasUppercase && hasNumber && hasSpecialChar){
        passwordStrengthText.innerHTML = "Strong password";
        passwordStrengthText.style.color = "red";
    } else if(((hasLowercase && hasUppercase) || (hasNumber && hasSpecialChar)) || ((hasLowercase && hasSpecialChar) || (hasNumber && hasUppercase))){
        passwordStrengthText.innerHTML = "Hard password";
        passwordStrengthText.style.color = "Orange";
    } else if(((hasLowercase && hasNumber) || (hasUppercase && hasSpecialChar)) || ((hasLowercase && hasNumber) || (hasSpecialChar && hasUppercase))){
        passwordStrengthText.innerHTML = "Hard password";
        passwordStrengthText.style.color = "Orange";
    } else {
        passwordStrengthText.innerHTML = "Weak password";
        passwordStrengthText.style.color = "red";
    }
  }

  // Attach the checkPasswordStrength function to the 'input' event of the password input field
  document.getElementById("password").addEventListener("input", checkPasswordStrength);
</script>

